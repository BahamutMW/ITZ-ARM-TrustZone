#
# This is a Pistachio kernel configuration that is known to work with Genode.
# To use it, create a fresh Pistachio build directory and copy this file to
# '<pistachio-build-dir>/config.out' and call 'make batchconfig' from the
# Pistachio build directory.
#

#
# Pistachio Kernel Configuration System
#

#
# Hardware
#

#
# Basic Architecture
#
CONFIG_ARCH_X86=y
CONFIG_ARCH_POWERPC=n
CONFIG_ARCH_POWERPC64=n


#
# X86 Processor Architecture
#
CONFIG_SUBARCH_X32=y
CONFIG_SUBARCH_X64=n


#
# Processor Type
#
CONFIG_CPU_X86_I486=n
CONFIG_CPU_X86_I586=n
CONFIG_CPU_X86_I686=n
CONFIG_CPU_X86_P4=y
CONFIG_CPU_X86_K8=n
CONFIG_CPU_X86_C3=n
CONFIG_CPU_X86_SIMICS=n


#
# Platform
#
CONFIG_PLAT_PC99=y


#
# Miscellaneous
#
CONFIG_IOAPIC=n
CONFIG_MAX_IOAPICS=8
CONFIG_APIC_TIMER_TICK=1000

CONFIG_SMP=n
CONFIG_SMP_MAX_PROCS=8
CONFIG_SMP_IDLE_POLL=n


#
# Kernel
#
CONFIG_EXPERIMENTAL=y

#
# Experimental Features
#
CONFIG_X_PAGER_EXREGS=y
CONFIG_X_CTRLXFER_MSG=n
CONFIG_X_EVT_LOGGING=n

#
# Kernel scheduling policy
#
CONFIG_SCHED_RR=y
CONFIG_X_SCHED_HS=n


CONFIG_IPC_FASTPATH=n
CONFIG_DEBUG=y
CONFIG_DEBUG_SYMBOLS=n
CONFIG_K8_FLUSHFILTER=n
CONFIG_PERFMON=n
CONFIG_SPIN_WHEELS=n
CONFIG_NEW_MDB=y
CONFIG_STATIC_TCBS=n
CONFIG_X86_SMALL_SPACES=n
CONFIG_X86_IO_FLEXPAGES=n


#
# Debugger
#

#
# Kernel Debugger Console
#
CONFIG_KDB_CONS_COM=y
CONFIG_KDB_COMPORT=0x0
CONFIG_KDB_COMSPEED=115200
CONFIG_KDB_CONS_KBD=n
CONFIG_KDB_BOOT_CONS=0

CONFIG_KDB_DISAS=n
CONFIG_KDB_ON_STARTUP=n
CONFIG_KDB_BREAKIN=y
CONFIG_KDB_BREAKIN_BREAK=y
CONFIG_KDB_BREAKIN_ESCAPE=y
CONFIG_KDB_INPUT_HLT=n
CONFIG_KDB_NO_ASSERTS=n

#
# Trace Settings
#
CONFIG_VERBOSE_INIT=y
CONFIG_TRACEPOINTS=y
CONFIG_KMEM_TRACE=n
CONFIG_TRACEBUFFER=y



#
# Code Generator Options
#


#
# Derived symbols
#
CONFIG_HAVE_MEMORY_CONTROL=n
CONFIG_X86_PSE=y
CONFIG_BIGENDIAN=n
CONFIG_PPC_MMU_TLB=n
CONFIG_X86_SYSENTER=y
CONFIG_X86_PGE=y
CONFIG_X86_FXSR=y
CONFIG_IS_32BIT=y
CONFIG_X86_HTT=y
CONFIG_X86_PAT=y
CONFIG_PPC_BOOKE=n
CONFIG_IS_64BIT=n
CONFIG_MULTI_ARCHITECTURE=n
CONFIG_X86_EM64T=n
CONFIG_PPC_CACHE_L1_WRITETHROUGH=n
CONFIG_PPC_TLB_INV_LOCAL=n
CONFIG_PPC_CACHE_ICBI_LOCAL=n
CONFIG_X86_SMALL_SPACES_GLOBAL=n
CONFIG_X86_HVM=y
CONFIG_PPC_MMU_SEGMENTS=n
CONFIG_X86_TSC=y
#
# That's all, folks!
